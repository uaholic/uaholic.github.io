{"meta":{"title":"佳音奇韵","subtitle":"Uaholic的个人技术博客","description":"繁星的海洋里总有两颗隐居于宇宙深处的神秘角落,你负责微笑,我负责发光。","author":"Uaholic","url":"http://blog.dearbaby520.com"},"pages":[{"title":"about","date":"2018-04-11T13:26:44.000Z","updated":"2018-04-11T13:26:44.058Z","comments":true,"path":"about/index.html","permalink":"http://blog.dearbaby520.com/about/index.html","excerpt":"","text":""}],"posts":[{"title":"Centos7配置SSH免密登录","slug":"first-article","date":"2018-04-12T10:14:19.000Z","updated":"2018-04-19T12:14:03.994Z","comments":true,"path":"2018/04/12/first-article/","link":"","permalink":"http://blog.dearbaby520.com/2018/04/12/first-article/","excerpt":"","text":"Centos7配置SSH免密在搭建集群服务环境时往往需要多个服务器相互通讯，例如在搭建hadoop集群环境时，多个节点之间使用ssh协议相互通讯，每次都输入密码是一件非常繁琐的事情。本文将详细讲解如何配置使多个linux主机相互使用ssh协议免密通讯。 注：需要免密通讯的多个主机都需要进行如下配置 新建用户并设置密码12adduser 用户名paddwd 用户名 修改主机名1hostname 主机名 修改hosts将其他主机的ip地址和主机名加入1vi /etc/hosts 修改sudoers1vi /etc/sudoers 如图在102行的位置加入相应用户的设置，并重启使其生效 修改sshd服务123456vi /etc/ssh/sshd_config放开标注的文档(去掉#)：#RSAAuthentication yes#PubkeyAuthentication yes重启服务，使刚才的修改生效（centos7上命令）systemctl restart sshd.service 修改网络配置1234567vi /etc/sysconfig/network# Created by anacondaNETWORKING=yesHOSTNAME=主机名使用如下命令使刚才的修改/etc/sysconfig/network生效source /etc/sysconfig/networkservice network restart 切换用户1su 用户名 为每台服务器生成秘钥1234567ssh-kengen -t 'RSA'在/home/用户名/.ssh/目录下生成密钥文件进入/home/用户名/.ssh/目录下会发现一对秘钥（一个公钥，一个私钥）复制公钥内容到authorized_keys文件cat id_rsa.pub &gt;&gt; authorized_keys为authorized_keys文件设置权限644chmod 644 authorized_keys 将多台主机的公钥添加到同一个authorized_keys文件下并复制给其他主机1234567可以使用如下做法在slave服务器上将authorized_keys文件传入到master服务器上scp authorized_keys hadoop@master:/home/hadoop/.ssh/slave切换到master服务器将两个文件合并cat slave &gt;&gt; authorized_keys将合并后的文件传回到slave服务器上并覆盖scp authorized_keys hadoop@slave:/home/hadoop/.ssh/authorized_keys 至此免密配置完成使用ssh相互连接一下看看是不是不需要密码啦","categories":[{"name":"文章","slug":"文章","permalink":"http://blog.dearbaby520.com/categories/文章/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://blog.dearbaby520.com/tags/Hexo/"},{"name":"java","slug":"java","permalink":"http://blog.dearbaby520.com/tags/java/"}]}]}